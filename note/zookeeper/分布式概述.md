### 分布式环境的特点
- 分布性
- 并发性

程序运行过程中，并发性操作是很常见的。比如同一个分布式系统中的多个节点，同时访问一个共享资源。数据库、分布式存储
- 无序性

进程之间的消息通信，会出现顺序不一致问题

### 分布式环境面临的问题
- 网络通信

网络本身的不可靠性，因此会涉及到一些网络通信问题
- 网络分区(脑裂)

当网络发生异常导致分布式系统中部分节点之间的网络延时不断增大，最终导致组成分布式架构的所有节点，只有部分节点能够正常通信

- 三态

在分布式架构里面，除了成功、失败、超时

- 分布式事务

ACID(原子性、一致性、隔离性、持久性)

### 中心化和去中心化
冷备或者热备

分布式架构里面，很多的架构思想采用的是：当集群发生故障的时候，集群中的人群会自动“选举”出一个新的领导。

最典型的是： zookeeper / etcd

### 经典的CAP/BASE理论
#### CAP
- C（一致性 Consistency）: 所有节点上的数据，时刻保持一致
- 可用性（Availability）：每个请求都能够收到一个响应，无论响应成功或者失败
- 分区容错 （Partition-tolerance）：表示系统出现脑裂以后，可能导致某些server与集群中的其他机器失去联系
CP  / AP

CAP理论仅适用于原子读写的Nosql场景，不适用于数据库系统，无法同时满足，最多只能满足两个

#### BASE
基于CAP理论，CAP理论并不适用于数据库事务（因为更新一些错误的数据而导致数据出现紊乱，无论什么样的数据库高可用方案都是
徒劳） ，虽然XA事务可以保证数据库在分布式系统下的ACID特性，但是会带来性能方面的影响；


eBay尝试了一种完全不同的套路，放宽了对事务ACID的要求。提出了BASE理论即Basically available soft-state Eventually consistent

- Basically available（基本可用 ）  ： 数据库采用分片模式， 把100W的用户数据分布在5个实例上。如果破坏了其中一个实例，仍然可以保证80%的用户可用
- soft-state：  在基于client-server模式的系统中，server端是否有状态，决定了系统是否具备良好的水平扩展、负载均衡、故障恢复等特性。Server端承诺会维护client端状态数据，这个状态仅仅维持一小段时间,这段时间以后，server端就会丢弃这个状态，恢复正常状态
- Eventually consistent：数据的最终一致性